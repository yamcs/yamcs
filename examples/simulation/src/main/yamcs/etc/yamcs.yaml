# System-wide services
services:
  - class: org.yamcs.http.HttpServer
    args:
      port: 8090
      address: 0.0.0.0
  - class: org.yamcs.booking.BookingService

#instances (or domains). One yarch database will be created for each of them
# instance specific properties go into the file yamcs.{instance}.yaml
instances:
  - simulator

dataDir: ./storage/yamcs-data

#set the serverId if you want something else than hostname to be used in system parameters generated by yamcs
#serverId: yamcs1

# Secret key unique to a particular Yamcs installation.
# This is used to provide cryptographic signing.
secretKey: "changeme"

yamcs-web:
  tag: "Example: simulation"
  collapseInitializedArguments: false
  extraHeaderHTML: |
    <style>
      /* Mission Control Center badge */
      .mission-control-badge {
        position: fixed;
        bottom: 15px;
        left: 15px;
        width: 200px;
        background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 50%, #1a1a1a 100%);
        border: 1px solid #333333;
        border-radius: 6px;
        padding: 10px 8px;
        text-align: center;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
        box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        z-index: 15000;
      }
      
      .mission-control-title {
        color: #e2e8f03b;
        font-size: 13px;
        font-weight: 700;
        letter-spacing: 0.5px;
        margin-bottom: 4px;
        display: block;
      }
      
      .mission-control-copyright {
        color: #6b7280;
        font-size: 9px;
        font-weight: 400;
        letter-spacing: 0.2px;
        display: block;
      }
      
      .mission-control-copyright a {
        color: #6b7280;
        text-decoration: none;
      }
      
      .mission-control-copyright a:hover {
        color: #9ca3af;
      }
      
      /* Hide mission badge on homepage only */
      .mission-control-badge {
        display: block;
      }
      
      /* JavaScript to hide badge on homepage */
    </style>
    <script>
      function toggleBadgeVisibility() {
        const badge = document.querySelector('.mission-control-badge');
        if (badge) {
          // Hide badge only on root homepage with no query params
          const isHomepage = window.location.pathname === '/' && !window.location.search;
          badge.style.display = isHomepage ? 'none' : 'block';
        }
      }
      
      // Run on initial load
      document.addEventListener('DOMContentLoaded', toggleBadgeVisibility);
      
      // Handle navigation changes in SPA
      window.addEventListener('popstate', toggleBadgeVisibility);
      
      // Monitor for URL changes (for programmatic navigation)
      let lastUrl = location.href;
      new MutationObserver(() => {
        const url = location.href;
        if (url !== lastUrl) {
          lastUrl = url;
          setTimeout(toggleBadgeVisibility, 100); // Small delay to ensure DOM is updated
        }
      }).observe(document, {subtree: true, childList: true});
    </script>
    <style>
    </style>
    <div class="mission-control-badge">
      <div class="mission-control-title">MISSION CONTROL CENTER</div>
      <div class="mission-control-copyright">Â© <a href="https://tm2.space" target="_blank">TM2Space Technologies Pvt Ltd, India</a></div>
    </div>

# The buckets 'displays' and 'stacks' are used
# by yamcs-web. Here we choose to map them to
# the filesystem.
buckets:
  - name: displays
    path: displays

  - name: stacks
    path: stacks

